#:kivy 1.0
#

ScreenManager:
    id: screen_manager
    MainScreen:
        id: menu_screen
        name: 'MainScreen'
        manager: screen_manager
    SettingsScreen:
        name: 'SettingsScreen'
        manager: screen_manager
        label_text: menu_screen.text

<Row@BoxLayout>:
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Rectangle:
            size: self.size
            pos: self.pos
    value: ''
    Label:
        text: root.value

<MainScreen>:
    fullscreen: True
    RecycleView:
        id: rv
        scroll_type: ['bars', 'content']
        scroll_wheel_distance: dp(114)
        bar_width: dp(10)
        viewclass: 'Row'
        RecycleBoxLayout:
            default_size: None, dp(56)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'
            spacing: dp(2)


    BoxLayout:
        orientation: 'vertical'

        padding: 5
        Accordion:
            orientation: 'vertical'
            AccordionItem:
                title: 'Filter'
                rv : rv
            AccordionItem:
                title: 'Results'
                Button:
                    text: 'A button, what else?'


<ProgressPopup>
    auto_dismiss: False
    title: 'Loading morgue data ...'
    bar:bar
    BoxLayout:
        orientation: 'horizontal'
        height: 24
        padding: 50
        Label:
            text: 'Progression: {}%'.format(int(bar.value*100/bar.max))
        ProgressBar:
            id: bar






<SettingsScreen>:
    BoxLayout:
        Label:
            text: root.label_text

